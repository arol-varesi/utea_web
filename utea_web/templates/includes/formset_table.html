{% load widget_tweaks %}
{{ formset.management_form }}

<table class="table table-sm table-stripped">
  <tbody>
      {% for form in formset %}
      {% if form.non_field_errors %}
        <div class="alert alert-danger" role="alert">
          {% for error in form.non_field_errors %}
            <p {% if forloop.last %} class"mb-0" {% endif %}>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}
      <tr>
        {% for field in form %}

            <td type="hidden">
              {% if not field.is_hidden %}
                {{ field.label }}
              {% endif %}
              {% if form.is_bound %}
                {% if field.errors %}
                  {% render_field field class="form-control is-invalid" %}
                  {% for error in field.errors %}
                    <div class="invalid-feedback">
                      {{ error }}
                    </div>
                  {% endfor %}
                {% else %}
                  {% render_field field class="form-control is-valid" %}
                {% endif %}
              {% else %}
                {% render_field field class="form-control" %}
              {% endif %}
            </td>
        {% endfor %}
      </tr>
      {% endfor %}
  </tbody>
</table>
